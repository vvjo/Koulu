{"version":3,"sources":["hooks/index.js","components/Loginform.js","components/Notification.js","services/login.js","components/Blogs.js","components/Newblog.js","components/Toggle.js","services/blogs.js","App.js","index.js"],"names":["useField","type","_useState","useState","_useState2","Object","slicedToArray","value","setValue","onChange","event","target","reset","Loginform","props","fusername","fpassword","handleLogin","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","username","password","user","wrap","_context","prev","next","preventDefault","login","sent","window","localStorage","setItem","JSON","stringify","setUser","setColor","setMsg","concat","name","setTimeout","t0","console","log","stop","_x","apply","this","arguments","react_default","createElement","className","onSubmit","Notification","msg","color","services_login","credentials","response","axios","post","abrupt","data","Fullblog","vis","setvis","showWhenVisible","display","addLike","blogObj","title","plog","author","url","likes","blogService","like","id","deleteBlog","_ref2","_callee2","_context2","confirm","del","updOverlay","onClick","style","checkusr","Blogs","blogs","sort","b","Number","blogilista","map","Blogs_Fullblog","key","indexOf","Newblog","ftitle","fauthor","furl","addBlog","create","Toggle","React","forwardRef","ref","visible","setVisible","hideWhenVisible","toggleVisibility","useImperativeHandle","buttonLabel","children","token","services_blogs","getAll","res","get","newObject","config","headers","Authorization","setToken","newToken","put","then","_ref3","_callee3","_context3","delete","_x2","App","_useState3","_useState4","_useState5","_useState6","_useState7","_useState8","setBlogs","useEffect","loggedUserJSON","getItem","parse","components_Notification","Fragment","components_Loginform","clear","components_Blogs","components_Toggle","components_Newblog","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.21b91454.chunk.js","sourcesContent":["import { useState } from \"react\"\r\n\r\nexport const useField = (type) => {\r\n    const [value, setValue] = useState('')\r\n\r\n    const onChange = (event) => {\r\n        setValue(event.target.value)\r\n    }\r\n\r\n    const reset = () => {\r\n        setValue('')\r\n    }\r\n\r\n    return{\r\n        type,\r\n        value,\r\n        onChange,\r\n        reset\r\n    }\r\n}","import React from 'react'\r\nimport { useField } from '../hooks/index'\r\n\r\nconst Loginform = (props) => {\r\n  const fusername = useField('text')\r\n  const fpassword = useField('password')\r\n\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault()\r\n    try {\r\n      const username = fusername.value\r\n      const password = fpassword.value\r\n      const user = await props.login.login({\r\n        username, password,\r\n      })\r\n      window.localStorage.setItem(\r\n        'loggeduser', JSON.stringify(user)\r\n      )\r\n      props.setUser(user)\r\n      fusername.reset()\r\n      fpassword.reset()\r\n      props.setColor('notification')\r\n      props.setMsg(`User ${user.name} logged in!`)\r\n      setTimeout(() => {\r\n        props.setMsg(null)\r\n      }, 5000)\r\n    } catch (exception) {\r\n      console.log(exception)\r\n      props.setColor('error')\r\n      props.setMsg('wrong credentials')\r\n      setTimeout(() => {\r\n        props.setMsg(null)\r\n      }, 5000)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form className='login' onSubmit={handleLogin}>\r\n      <div>\r\n        username\r\n        <input\r\n          {...fusername}\r\n        />\r\n      </div>\r\n      <div>\r\n        password\r\n        <input\r\n          {...fpassword}\r\n        />\r\n      </div>\r\n      <button type=\"submit\">login</button>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Loginform","import React from 'react'\r\n\r\nconst Notification = ({ msg, color }) => {\r\n  if (msg === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className={color}>\r\n      {msg}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Fullblog = (props) => {\r\n  const [vis, setvis] = useState(false)\r\n  const showWhenVisible = { display: vis ? '' : 'none' }\r\n\r\n  const toggleVisibility = () => {\r\n    setvis(!vis)\r\n  }\r\n\r\n  const checkusr = () => {\r\n    if (props.user.username === props.plog.user.username) {\r\n      return(\r\n        <button onClick={() => deleteBlog()}>remove</button>\r\n      )\r\n    }\r\n  }\r\n\r\n  const addLike = async () => {\r\n    const blogObj = {\r\n      title: props.plog.title,\r\n      author: props.plog.author,\r\n      url: props.plog.url,\r\n      likes: props.plog.likes + 1\r\n    }\r\n    try {\r\n      await props.blogService\r\n        .like(props.plog.id, blogObj)\r\n      props.plog.likes += 1\r\n      props.setColor('notification')\r\n      props.setMsg(`${blogObj.title} liked!`)\r\n      setTimeout(() => {\r\n        props.setMsg(null)\r\n      }, 1000)\r\n    } catch (error) {\r\n      props.setColor('error')\r\n      props.setMsg('Error while liking the blog')\r\n      setTimeout(() => {\r\n        props.setMsg(null)\r\n      }, 5000)\r\n    }\r\n  }\r\n\r\n  const deleteBlog = async () => {\r\n    if (window.confirm('Delete this blog?')) {\r\n      try {\r\n        await props.blogService.del(props.plog.id)\r\n        props.setColor('notification')\r\n        props.setMsg(`${props.plog.title}. deleted`)\r\n        props.updOverlay()\r\n        setTimeout(() => {\r\n          props.setMsg(null)\r\n        }, 5000)\r\n      }\r\n      catch (erro) {\r\n        console.log(erro)\r\n        props.setColor('error')\r\n        props.setMsg('unauthorized')\r\n        setTimeout(() => {\r\n          props.setMsg(null)\r\n        }, 5000)\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <li>\r\n      <div className='clickable' onClick={() => toggleVisibility()}>\r\n        {props.plog.title}\r\n        <br />\r\n        {props.plog.author}\r\n      </div>\r\n      <div className=\"showWhenClicked\" style={showWhenVisible} >\r\n        {props.plog.url}\r\n        <br />\r\n        {props.plog.likes}<button onClick={() => addLike()}>like this</button>\r\n        <br />\r\n        added by {props.plog.user.name}\r\n        <br />\r\n        {checkusr()}\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\nconst Blogs = (props) => {\r\n  props.blogs.sort((a, b) => Number(b.likes) - Number(a.likes))\r\n\r\n  const blogilista = props.blogs.map((plog) => \r\n    <Fullblog \r\n      updOverlay={props.updOverlay}\r\n      key={props.blogs.indexOf(plog)}\r\n      id={props.blogs.indexOf(plog)}\r\n      plog={plog}\r\n      blogService={props.blogService}\r\n      setMsg={props.setMsg}\r\n      setColor={props.setColor}\r\n      user={props.user}\r\n    />\r\n    )\r\n  return (\r\n    <ul>\r\n      {blogilista}\r\n    </ul>\r\n  )\r\n}\r\n\r\nBlogs.propTypes = {\r\n  blogService: PropTypes.func.isRequired,\r\n  setMsg: PropTypes.string.isRequired,\r\n  setColor: PropTypes.string.isRequired,\r\n  user: PropTypes.object.isRequired\r\n}\r\n\r\nexport default Blogs","import React from 'react'\r\nimport { useField } from '../hooks/index'\r\n\r\nconst Newblog = (props) => {\r\n  const ftitle = useField('text')\r\n  const fauthor = useField('text')\r\n  const furl = useField('text')\r\n\r\n  const addBlog = async () => {\r\n    const title = ftitle.value\r\n    const author = fauthor.value\r\n    const url = furl.value\r\n    const blogObj = {\r\n      title, author, url\r\n    }\r\n    try {\r\n      await props.blogService\r\n        .create(blogObj)\r\n      ftitle.reset()\r\n      fauthor.reset()\r\n      furl.reset()\r\n      props.setColor('notification')\r\n      props.setMsg(`New blog ${title} added!`)\r\n      setTimeout(() => {\r\n        props.setMsg(null)\r\n      }, 5000)\r\n    } catch (error) {\r\n      console.log(error)\r\n      props.setColor('error')\r\n      props.setMsg('Error while creating a new blog')\r\n      setTimeout(() => {\r\n        props.setMsg(null)\r\n      }, 5000)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={addBlog}>\r\n      <div>\r\n        title: <input {...ftitle}  /><br />\r\n        author: <input {...fauthor} /><br />\r\n        url: <input {...furl} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">create</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Newblog","import React, { useState, useImperativeHandle } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Toggle = React.forwardRef((props, ref) => {\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  const hideWhenVisible = { display: visible ? 'none' : '' }\r\n  const showWhenVisible = { display: visible ? '' : 'none' }\r\n\r\n  const toggleVisibility = () => {\r\n    setVisible(!visible)\r\n  }\r\n\r\n  useImperativeHandle(ref, () => {\r\n    return {\r\n      toggleVisibility\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <div style={hideWhenVisible}>\r\n        <button onClick={toggleVisibility}>{props.buttonLabel}</button>\r\n      </div>\r\n      <div style={showWhenVisible}>\r\n        {props.children}\r\n        <button onClick={toggleVisibility}>cancel</button>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\nToggle.propTypes = {\r\n  buttonLabel: PropTypes.string.isRequired\r\n}\r\n\r\nexport default Toggle","import axios from 'axios'\r\nconst baseUrl = '/api/blogs'\r\n\r\nlet token = null\r\n\r\nconst setToken = newToken => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\nconst getAll = async () => {\r\n  const res = await axios.get(baseUrl)\r\n  return res.data\r\n}\r\n\r\nconst create = async newObject => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  const res = await axios.post(baseUrl, newObject, config)\r\n  return res.data\r\n}\r\n\r\nconst del = async id => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  const res = await axios.delete(`${baseUrl}/${id}`, config)\r\n  return res.data\r\n}\r\n\r\nconst like = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, setToken, like, del }","import React, { useState, useEffect } from 'react'\r\nimport Loginform from './components/Loginform'\r\nimport Notification from './components/Notification'\r\nimport login from './services/login'\r\nimport Blogs from './components/Blogs'\r\nimport Newblog from './components/Newblog'\r\nimport Toggle from './components/Toggle'\r\nimport blogService from './services/blogs'\r\nimport './index.css'\r\n\r\nfunction App() {\r\n  const [msg, setMsg] = useState(null)\r\n  const [color, setColor] = useState('notification')\r\n  const [user, setUser] = useState(null)\r\n  const [blogs, setBlogs] = useState([])\r\n\r\n  useEffect(() => {\r\n    blogService\r\n      .getAll()\r\n      .then(response => {\r\n        setBlogs(response)\r\n      })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const loggedUserJSON = window.localStorage.getItem('loggeduser')\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      setUser(user)\r\n      blogService.setToken(user.token)\r\n    }\r\n  }, [])\r\n\r\n  const updOverlay = () => {\r\n    blogService\r\n      .getAll()\r\n      .then(response => {\r\n        setBlogs(response)\r\n      })\r\n  }\r\n\r\n  const logout = () => {\r\n    window.localStorage.clear()\r\n    setUser(null)\r\n    setColor('notification')\r\n    setMsg(`User ${user.name} logged out`)\r\n    setTimeout(() => {\r\n      setMsg(null)\r\n    }, 5000)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Blogs</h1>\r\n      <Notification msg={msg} color={color} />\r\n      {user === null ?\r\n        <>\r\n          <h2>Login</h2><br />\r\n          <Loginform\r\n            setUser={setUser}\r\n            setMsg={setMsg}\r\n            setColor={setColor}\r\n            login={login} />\r\n        </> :\r\n        <>\r\n          <p className='usertext' >{user.name} logged in</p><button onClick={() => logout()}>Logout</button><br />\r\n          <Blogs\r\n            updOverlay={updOverlay}\r\n            blogs={blogs}\r\n            blogService={blogService}\r\n            setMsg={setMsg}\r\n            setColor={setColor}\r\n            user={user}\r\n          />\r\n          <Toggle buttonLabel='new blog'>\r\n            <Newblog\r\n              blogService={blogService}\r\n              setMsg={setMsg}\r\n              setColor={setColor}\r\n            />\r\n          </Toggle>\r\n        </>\r\n      }\r\n\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}